{"version":3,"sources":["PipeGroupManager.js"],"names":["PipeGroup","require","cc","Class","extends","Component","properties","pipePrefab","Prefab","pipeLayer","Node","initPipeX","spawnInterval","onLoad","D","pipeManager","startSpawn","spawnPipe","schedule","pipeGroup","pool","hasObject","getFromPool","instantiate","getComponent","addChild","node","active","x","despawnPipe","pipe","removeFromParent","putInPool","reset","unschedule"],"mappings":";;;;;;AAAA,IAAMA,YAAYC,QAAQ,WAAR,CAAlB;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,oBAAYL,GAAGM,MADP;AAERC,mBAAWP,GAAGQ,IAFN;AAGRC,mBAAW,CAHH;AAIR;AACAC,uBAAe;AALP,KAFP;AASLC,UATK,oBASK;AACNC,UAAEC,WAAF,GAAgB,IAAhB;AACH,KAXI;AAYLC,cAZK,wBAYS;AACV,aAAKC,SAAL;AACA,aAAKC,QAAL,CAAc,KAAKD,SAAnB,EAA8B,KAAKL,aAAnC;AACH,KAfI;;AAgBL;AACAK,aAjBK,uBAiBQ;AACT,YAAIE,YAAY,IAAhB;AACA,YAAIjB,GAAGkB,IAAH,CAAQC,SAAR,CAAkBrB,SAAlB,CAAJ,EAAkC;AAC9BmB,wBAAYjB,GAAGkB,IAAH,CAAQE,WAAR,CAAoBtB,SAApB,CAAZ;AACH,SAFD,MAEO;AACHmB,wBAAYjB,GAAGqB,WAAH,CAAe,KAAKhB,UAApB,EAAgCiB,YAAhC,CAA6CxB,SAA7C,CAAZ;AACH;AACD,aAAKS,SAAL,CAAegB,QAAf,CAAwBN,UAAUO,IAAlC;AACAP,kBAAUO,IAAV,CAAeC,MAAf,GAAwB,IAAxB;AACAR,kBAAUO,IAAV,CAAeE,CAAf,GAAmB,KAAKjB,SAAxB;AACH,KA3BI;AA4BLkB,eA5BK,uBA4BQC,IA5BR,EA4Bc;AACfA,aAAKJ,IAAL,CAAUK,gBAAV;AACAD,aAAKJ,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACAzB,WAAGkB,IAAH,CAAQY,SAAR,CAAkBF,IAAlB;AACH,KAhCI;AAiCLG,SAjCK,mBAiCI;AACL,aAAKC,UAAL,CAAgB,KAAKjB,SAArB;AACH;AAnCI,CAAT","file":"PipeGroupManager.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["const PipeGroup = require('PipeGroup');\n\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        pipePrefab: cc.Prefab,\n        pipeLayer: cc.Node,\n        initPipeX: 0,\n        //-- 创建PipeGroup需要的时间\n        spawnInterval: 0\n    },\n    onLoad () {\n        D.pipeManager = this;\n    },\n    startSpawn () {\n        this.spawnPipe();\n        this.schedule(this.spawnPipe, this.spawnInterval);\n    },\n    //-- 创建管道组\n    spawnPipe () {\n        let pipeGroup = null;\n        if (cc.pool.hasObject(PipeGroup)) {\n            pipeGroup = cc.pool.getFromPool(PipeGroup);\n        } else {\n            pipeGroup = cc.instantiate(this.pipePrefab).getComponent(PipeGroup);\n        }\n        this.pipeLayer.addChild(pipeGroup.node);\n        pipeGroup.node.active = true;\n        pipeGroup.node.x = this.initPipeX;\n    },\n    despawnPipe (pipe) {\n        pipe.node.removeFromParent();\n        pipe.node.active = false;\n        cc.pool.putInPool(pipe);\n    },\n    reset () {\n        this.unschedule(this.spawnPipe);\n    }\n});\n"]}