{"version":3,"sources":["../../../../../assets/scripts/module/assets/scripts/module/Utils.js"],"names":["getMinMaxPoint","cards","hasAce","min","i","length","card","point","Math","max","isBust","sum","isMobile","cc","sys","module","exports"],"mappings":";;;;;;AACA;AACA,SAASA,cAAT,CAAyBC,KAAzB,EAAgC;AAC5B,QAAIC,SAAS,KAAb;AACA,QAAIC,MAAM,CAAV;AACA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIH,MAAMI,MAA1B,EAAkCD,GAAlC,EAAuC;AACnC,YAAIE,OAAOL,MAAMG,CAAN,CAAX;AACA,YAAIE,KAAKC,KAAL,KAAe,CAAnB,EAAsB;AAClBL,qBAAS,IAAT;AACH;AACDC,eAAOK,KAAKL,GAAL,CAAS,EAAT,EAAaG,KAAKC,KAAlB,CAAP;AACH;AACD,QAAIE,MAAMN,GAAV;AACA;AACA,QAAID,UAAUC,MAAM,EAAN,IAAY,EAA1B,EAA8B;AAC1B;AACAM,eAAO,EAAP;AACH;;AAED,WAAO;AACHN,aAAKA,GADF;AAEHM,aAAKA;AAFF,KAAP;AAIH;;AAED,SAASC,MAAT,CAAiBT,KAAjB,EAAwB;AACpB,QAAIU,MAAM,CAAV;AACA,SAAK,IAAIP,IAAI,CAAb,EAAgBA,IAAIH,MAAMI,MAA1B,EAAkCD,GAAlC,EAAuC;AACnC,YAAIE,OAAOL,MAAMG,CAAN,CAAX;AACAO,eAAOH,KAAKL,GAAL,CAAS,EAAT,EAAaG,KAAKC,KAAlB,CAAP;AACH;AACD,WAAOI,MAAM,EAAb;AACH;;AAED,IAAIC,WAAW,SAAXA,QAAW,GAAY;AACvB,WAAOC,GAAGC,GAAH,CAAOF,QAAd;AACH,CAFD;;AAIAG,OAAOC,OAAP,GAAiB;AACbN,YAAQA,MADK;AAEbV,oBAAgBA,cAFH;AAGbY,cAAUA;AAHG,CAAjB","file":"Utils.js","sourceRoot":"../../../../../assets/scripts/module","sourcesContent":["\n// 返回尽可能不超过 21 点的最小和最大点数\nfunction getMinMaxPoint (cards) {\n    var hasAce = false;\n    var min = 0;\n    for (var i = 0; i < cards.length; i++) {\n        var card = cards[i];\n        if (card.point === 1) {\n            hasAce = true;\n        }\n        min += Math.min(10, card.point);\n    }\n    var max = min;\n    // 如果有 1 个 A 可以当成 11\n    if (hasAce && min + 10 <= 21) {\n        // （如果两个 A 都当成 11，那么总分最小也会是 22，爆了，所以最多只能有一个 A 当成 11）\n        max += 10;\n    }\n\n    return {\n        min: min,\n        max: max\n    };\n}\n\nfunction isBust (cards) {\n    var sum = 0;\n    for (var i = 0; i < cards.length; i++) {\n        var card = cards[i];\n        sum += Math.min(10, card.point);\n    }\n    return sum > 21;\n}\n\nvar isMobile = function () {\n    return cc.sys.isMobile;\n};\n\nmodule.exports = {\n    isBust: isBust,\n    getMinMaxPoint: getMinMaxPoint,\n    isMobile: isMobile\n};\n"]}